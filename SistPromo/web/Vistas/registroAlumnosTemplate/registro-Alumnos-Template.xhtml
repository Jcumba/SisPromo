<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      template="/WEB-INF/template.xhtml">
    <h:head>
        <title>TODO supply a title</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    <h:body>
        <ui:composition template="../Template/Template.xhtml">
            <ui:define name="content">
                <div class="ui-g-12 ui-md-12 ui-lg-12">
                    <div class="card">

                        <h:form id="form">
                            <p:growl id="msg" life="1500" autoUpdate="true"/>
                            <img style="margin-left: 600px" src="../../resources/images/photo_large.jpg" alt="" width="50px"/>
                            <h1><b style="margin-left: 460px">REGISTRO DE ALUMNOS</b></h1>
                            
                            <p:separator/>
                            <p:panelGrid columns="4" styleClass="ui-panelgrid-blank">
                                <p:outputLabel value="Seleccione la Carrera:" />
                                <p:selectOneMenu styleClass="selectpicker" value="#{alumnoC.alumno.CARRERA_CODCAR}" >
                                    <f:selectItem  noSelectionOption="true" itemLabel="Seleccione" itemValue="#{null}" />
                                    <f:selectItems  value="#{carreraC.lstCarrera}" var="carrera"  itemLabel="#{carrera.NOMCAR}" itemValue="#{carrera.CODCAR}"/>
                                </p:selectOneMenu>


                                <p:outputLabel value="Nombres:" />
                                <p:inputText    value="#{alumnoC.alumno.NOMPER}" onkeyup="this.value = this.value.toUpperCase();">
                                    <p:keyFilter regEx="/[a-z_ ]/i"/> 	
                                </p:inputText>

                                <p:outputLabel value="Apellidos:" />
                                <p:inputText value="#{alumnoC.alumno.APEPER}" onkeyup="this.value = this.value.toUpperCase();">
                                    <p:keyFilter regEx="/[a-z_ ]/i"/>
                                </p:inputText>


                                <p:outputLabel value="DNI:" />
                                <p:inputText value="#{alumnoC.alumno.DNIPER}"   maxlength="8">
                                    <p:keyFilter regEx="/[\d]/"/>
                                </p:inputText>

                                <p:outputLabel value="Fecha Nacimiento:" />
                                <p:inputMask id="date" value="#{alumnoC.alumno.FECNACPER}"   mask="99/99/9999"/>



                                <p:outputLabel value="Celular:" />
                                <p:inputText value="#{alumnoC.alumno.CELPER}"   maxlength="9">
                                    <p:keyFilter regEx="/[\d]/"/>
                                </p:inputText>

                                <p:outputLabel value="Distrito:" />
                                <p:autoComplete  maxResults="16"  
                                                 emptyMessage="No se encontro ningún registro"
                                                 value="#{alumnoC.alumno.UBIGEO_CODUBI}"
                                                 completeMethod="#{alumnoC.completeTextUbi}"
                                                 maxlength="15">
                                    <p:keyFilter regEx="/[\d]/"/>
                                </p:autoComplete>

                                <p:outputLabel value="Colegio:" />
                                <p:autoComplete  maxResults="10" emptyMessage="No se encontro ningún registro"
                                                 value="#{alumnoC.alumno.CODCOL}"        
                                                 completeMethod="#{alumnoC.completeTextCol}"
                                                 maxlength="15">
                                    <p:keyFilter regEx="/[\d]/"/>
                                </p:autoComplete>

                                <p:commandButton   value="AGREGAR" icon="fa fa-plus-square" actionListener="#{alumnoC.guardarAlumno()}" update="form"/>
                                <!--class="waves-effect waves-light btn-small blue darken-1 s12 m7"-->
                            </p:panelGrid>
                        </h:form>

                        <h:form id="FormTblAlum">
                            <p:dataTable var="alumno" value="#{alumnoC.lstAlumno}" rows="10"
                                         class="table table-striped"
                                         paginator="true"
                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                         rowsPerPageTemplate="5,10,15">
                                <p:column headerText="Nombres">
                                    <h:outputText value="#{alumno.NOMPER}" />
                                </p:column>
                                <p:column headerText="Apellidos">
                                    <h:outputText value="#{alumno.APEPER}" />
                                </p:column>
                                <p:column headerText="DNI">
                                    <h:outputText value="#{alumno.DNIPER}" />
                                </p:column>
                                <p:column headerText="Telefono - Celular ">
                                    <h:outputText value="#{alumno.CELPER}" />
                                </p:column>
                            </p:dataTable>
                        </h:form>
                    </div>
                </div>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
