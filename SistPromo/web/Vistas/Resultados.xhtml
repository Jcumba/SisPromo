<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      template="/WEB-INF/template.xhtml">
    <h:head>
        <title>Respuestas de Examen</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"/>

        <!-- Compiled and minified JavaScript -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    </h:head>
    <h:body style="float: left;margin-left: 158px">

        <div class="col s12 m7">
            <div class="card horizontal">
                <div class="card-image">
                    <img src="../resources/images/charles-zwn97hXUsdg-unsplash.jpg" alt="" style="height: 780px"/>
                    <img src="../resources/images/Picture1.png" alt="" style="margin-left: 100px;margin-top: 40px;margin-bottom: 20px"/>
                </div>
                <div class="card-stacked">
                    <h:form id="dial">
                        <p:commandButton  style="margin-left: 150px;margin-top: 5px" class=" blue darken-2 waves-effect waves-light btn modal-trigger" value="Puntuacion de Examen"  type="button" onclick="PF('dlg2').show();" />
                    </h:form>

                    <p:dialog  id="modal1" class="modal" header="Listado de Puntajes por alumno" widgetVar="dlg2" modal="true" height="650" width="500">
                        <h:form id="cerrar">
                            <div class="modal-content">
                                <img  style="margin-left: 180px" src="../resources/images/photo_large.jpg" alt="" width="50px"/>
                                <p>Examen:</p>
                                <p>Fecha:</p>
                                <p>Nombre de examen:</p>
                                <p style="margin-left: 140px">ORDEN DE MERITO</p>
                                <p:dataTable var="meritos" value="#{carreraC.lstMerito}">
                                    <p:column headerText="Nombres y Apellidos" style="width: 200px">
                                        <h:outputText value="#{meritos.NOMBRESAP} #{meritos.APELLIDOAP}" />
                                    </p:column>

                                    <p:column headerText="Puntaje" >
                                        <h:outputText value="#{meritos.PUNTJAP}" />
                                    </p:column>
                                    <p:column headerText="Estado" style="width: 130px">
                                         <h:outputText value="#{meritos.APROBADO}" />
                                    </p:column>
                                </p:dataTable>

                                <h:commandLink value="Descargar PDF" style="margin-top: 10px" class="btn btn-danger btn-block" actionListener="#{alumnoC.descargarPdfMerito()}"  >
                                    <i class="zmdi zmdi-download"></i>
                                </h:commandLink>
                            </div>
                            <p:commandButton class="btn btn-primary pull-right mio blue darken-2" value="Cerrar" onclick="PF('dlg2').hide();"/>
                        </h:form>
                    </p:dialog> 
                    <div class="chip" style="margin-left: 10px;margin-top: 10px">
                        ¡Ingrese su numero de DNI para consultar sus notas por favor!
                    </div>
                    <div class="card-content">
                        <h:form   id="Consultar">
                            <p:growl id="msg" life="1500" autoUpdate="true"/>
                            <h:panelGrid columns="2">
                                <p:autoComplete maxResults="5"

                                                style="width: 300px;margin-top: 14px"
                                                emptyMessage="No se encontro ningun registro"                
                                                forceSelection="true"
                                                placeholder="Ingrese su DNI"
                                                maxlength="8"
                                                value="#{alumnoC.notas}"
                                                completeMethod="#{alumnoC.competeTextNotas}">
                                </p:autoComplete>
                                <p:commandButton class="btn btn-primary pull-right mio blue darken-2"   style="margin-bottom: 3px;margin-left: 50px" value="CONSULTAR" actionListener="#{alumnoC.consultarNotas()}" update="tblConsultas Consultar"/>
                            </h:panelGrid>
                            <br/>


                            <p:dataGrid value="#{alumnoC.lstConsultaNotas}"
                                        id="tblConsultas"
                                        style="width: 300px"

                                        var="consulta"
                                        emptyMessage="Sin Resultados">

                                <p:column  headerText="Datos">

                                    <p:outputLabel style="color: #0174DF; font-weight: bold;" value="DNI:  #{consulta.DNIPER} - #{consulta.NOMPER}  #{consulta.APEPER}"/>

                                    <table id="customers" class="striped" style="width: 500px">
                                        <tr>
                                            <th>N° Pregunta </th>
                                            <th>Respuesta</th>
                                            <th>Solucion</th>
                                            <th>Puntaje</th>
                                        </tr>
                                        <tr>
                                            <td>1</td>
                                            <td><p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.RES1}"/></td>
                                        <td>  <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.SOL1}"/>  </td>
                                        <td><p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.PUNTAJ1}"/>   </td>
                                        </tr>
                                        <tr>
                                            <td>2</td>
                                            <td><p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.RES2}"/></td>
                                        <td>  <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.SOL2}"/>  </td>
                                        <td> <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.PUNTAJ2}"/>   </td>
                                        </tr>
                                        <tr>
                                            <td>3</td>
                                            <td><p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.RES3}"/></td>
                                        <td>  <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.SOL3}"/>  </td>
                                        <td> <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.PUNTAJ3}"/>   </td>
                                        </tr>
                                        <tr>
                                            <td>4</td>
                                            <td><p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.RES4}"/></td>
                                        <td>  <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.SOL4}"/>  </td>
                                        <td> <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.PUNTAJ4}"/>   </td>
                                        </tr>
                                        <tr>
                                            <td>5</td>
                                            <td><p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.RES5}"/></td>
                                        <td>  <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.SOL5}"/>  </td>
                                        <td> <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.PUNTAJ5}"/>   </td>
                                        </tr>
                                        <tr>
                                            <td>6</td>
                                            <td><p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.RES6}"/></td>
                                        <td>  <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.SOL6}"/>  </td>
                                        <td> <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.PUNTAJ6}"/>   </td>
                                        </tr>
                                        <tr>
                                            <td>7</td>
                                            <td><p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.RES7}"/></td>
                                        <td>  <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.SOL7}"/>  </td>
                                        <td> <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.PUNTAJ7}"/>   </td>
                                        </tr>
                                        <tr>
                                            <td>8</td>
                                            <td><p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.RES8}"/></td>
                                        <td>  <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.SOL8}"/>  </td>
                                        <td> <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.PUNTAJ8}"/>   </td>
                                        </tr>
                                        <tr>
                                            <td>9</td>
                                            <td><p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.RES9}"/></td>
                                        <td>  <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.SOL9}"/>  </td>
                                        <td> <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.PUNTAJ9}"/>   </td>
                                        </tr>
                                        <tr>
                                            <td>10</td>
                                            <td><p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.RES10}"/></td>
                                        <td>  <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.SOL10}"/>  </td>
                                        <td> <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.PUNTAJ10}"/>   </td>
                                        </tr>
                                        <tr>
                                            <td>11</td>
                                            <td><p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.RES11}"/></td>
                                        <td>  <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.SOL11}"/>  </td>
                                        <td> <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.PUNTAJ11}"/>   </td>
                                        </tr>
                                        <tr>
                                            <td>12</td>
                                            <td><p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.RES12}"/></td>
                                        <td>  <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.SOL12}"/>  </td>
                                        <td> <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.PUNTAJ12}"/>   </td>
                                        </tr>
                                        <tr>
                                            <td>13</td>
                                            <td><p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.RES13}"/></td>
                                        <td>  <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.SOL13}"/>  </td>
                                        <td> <p:outputLabel  style="color: black; font-weight: bold;" value=" #{consulta.PUNTAJ13}"/>   </td>
                                        </tr>
                                    </table>
                                </p:column> 
                            </p:dataGrid>

                            <!--            <h:commandLink value="Descargar PDF" class="btn btn-danger btn-block" style="width: 250px;margin-left: 120px;margin-top: 10px"  >
                                            <i class="zmdi zmdi-download"></i>
                                        </h:commandLink>-->
                        </h:form> 



                    </div>
                    <div class="card-action  ">
                        <a href="alumno.xhtml" style="color: #0089ec">Volver</a>

                    </div>
                </div>
            </div>
        </div>






    </h:body>
</html>
